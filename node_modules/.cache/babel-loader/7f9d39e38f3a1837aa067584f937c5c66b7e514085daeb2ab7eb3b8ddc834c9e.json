{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Piyush\\\\health-app\\\\frontend\\\\src\\\\components\\\\ReportModal\\\\ReportModal.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './ReportModal.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ReportModal = ({\n  isOpen,\n  onClose,\n  imageUrl,\n  reportData\n}) => {\n  _s();\n  const [imageError, setImageError] = useState(false);\n  const [imageLoading, setImageLoading] = useState(true);\n\n  // Reset states when modal opens/closes\n  useEffect(() => {\n    if (isOpen) {\n      setImageError(false);\n      setImageLoading(true);\n    }\n  }, [isOpen]);\n\n  // Handle keyboard events (ESC to close)\n  useEffect(() => {\n    const handleKeyDown = e => {\n      if (e.key === 'Escape' && isOpen) {\n        onClose();\n      }\n    };\n    if (isOpen) {\n      document.addEventListener('keydown', handleKeyDown);\n      document.body.style.overflow = 'hidden'; // Prevent background scroll\n    }\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n      document.body.style.overflow = 'unset'; // Restore scroll\n    };\n  }, [isOpen, onClose]);\n  if (!isOpen) return null;\n  const handleOverlayClick = e => {\n    if (e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n  const handleImageLoad = () => {\n    console.log(\"‚úÖ Image loaded successfully\");\n    setImageLoading(false);\n    setImageError(false);\n  };\n  const handleImageError = e => {\n    console.log(\"‚ùå Image failed to load:\", e.target.src);\n    setImageLoading(false);\n    setImageError(true);\n  };\n\n  // Fixed: Better URL determination with proper fallback logic\n  const getImageUrl = () => {\n    console.log(\"üîç Debug - imageUrl prop:\", imageUrl);\n    console.log(\"üîç Debug - reportData:\", reportData);\n\n    // Priority order for URL sources\n    const possibleUrls = [reportData === null || reportData === void 0 ? void 0 : reportData.file_url, // ‚úÖ First priority from serializer\n    reportData === null || reportData === void 0 ? void 0 : reportData.file,\n    // ‚úÖ Second priority from serializer\n    imageUrl, // ‚úÖ Fallback from prop\n    reportData === null || reportData === void 0 ? void 0 : reportData.image_url, // Alternative field name\n    reportData === null || reportData === void 0 ? void 0 : reportData.url // Generic fallback\n    ];\n    console.log(\"üîç All possible URLs:\", possibleUrls);\n    for (const url of possibleUrls) {\n      if (url && url !== 'undefined' && url !== undefined && url.trim() !== '' && !url.includes('/undefined') &&\n      // Check for /undefined in URL\n      url.startsWith('http')) {\n        // Ensure it's a proper URL\n        console.log(\"‚úÖ Using URL:\", url);\n        return url;\n      }\n    }\n    console.log(\"‚ùå No valid URL found - all URLs contained 'undefined' or were invalid\");\n    return null;\n  };\n  const displayUrl = getImageUrl();\n  const handleRetry = () => {\n    console.log(\"üîÑ Retrying image load...\");\n    setImageError(false);\n    setImageLoading(true);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-overlay\",\n    onClick: handleOverlayClick,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Medical Report\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"close-button\",\n          onClick: onClose,\n          \"aria-label\": \"Close modal\",\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-body\",\n        children: [process.env.NODE_ENV === 'development' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"debug-info\",\n          children: /*#__PURE__*/_jsxDEV(\"details\", {\n            style: {\n              marginBottom: '20px',\n              padding: '10px',\n              background: '#f0f0f0',\n              borderRadius: '4px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"summary\", {\n              style: {\n                cursor: 'pointer',\n                fontWeight: 'bold'\n              },\n              children: \"\\uD83D\\uDC1B Debug Info (click to expand)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: '10px',\n                fontSize: '12px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"imageUrl prop:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 22\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"code\", {\n                  children: String(imageUrl)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 54\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"reportData received:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 22\n                }, this), \" \", reportData ? '‚úÖ Yes' : '‚ùå No (THIS IS THE PROBLEM!)']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"reportData file:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 118,\n                  columnNumber: 22\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"code\", {\n                  children: String(reportData === null || reportData === void 0 ? void 0 : reportData.file)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 118,\n                  columnNumber: 56\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"reportData file_url:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 119,\n                  columnNumber: 22\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"code\", {\n                  children: String(reportData === null || reportData === void 0 ? void 0 : reportData.file_url)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 119,\n                  columnNumber: 60\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"reportData keys:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 22\n                }, this), \" \", reportData ? Object.keys(reportData).join(', ') : 'No reportData']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Final displayUrl:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 121,\n                  columnNumber: 22\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"code\", {\n                  children: String(displayUrl)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 121,\n                  columnNumber: 57\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Image Error:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 122,\n                  columnNumber: 22\n                }, this), \" \", String(imageError)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Image Loading:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 22\n                }, this), \" \", String(imageLoading)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 19\n              }, this), reportData && /*#__PURE__*/_jsxDEV(\"details\", {\n                style: {\n                  marginTop: '10px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"summary\", {\n                  children: \"Full reportData object:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n                  style: {\n                    fontSize: '10px',\n                    overflow: 'auto',\n                    background: 'white',\n                    padding: '5px',\n                    marginTop: '5px'\n                  },\n                  children: JSON.stringify(reportData, null, 2)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }, this), displayUrl ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"image-container\",\n          children: [imageLoading && !imageError && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loading-spinner\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"spinner\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Loading image...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 17\n          }, this), imageError && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error-message\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"\\u274C Failed to Load Image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"URL:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 22\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"code\", {\n                children: displayUrl\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 44\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                background: '#fff3cd',\n                padding: '15px',\n                borderRadius: '8px',\n                marginTop: '15px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                children: \"\\uD83D\\uDD27 S3 Access Issue - Check These:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n                style: {\n                  textAlign: 'left',\n                  margin: '10px 0'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"S3 Bucket Policy:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 157,\n                    columnNumber: 27\n                  }, this), \" Make bucket publicly readable\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"CORS Settings:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 158,\n                    columnNumber: 27\n                  }, this), \" Allow your domain in S3 CORS\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Django Settings:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 159,\n                    columnNumber: 27\n                  }, this), \" Check AWS_DEFAULT_ACL = 'public-read'\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Network:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 160,\n                    columnNumber: 27\n                  }, this), \" Try opening the direct link below\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"error-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleRetry,\n                className: \"retry-button\",\n                children: \"\\uD83D\\uDD04 Retry\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: displayUrl,\n                target: \"_blank\",\n                rel: \"noopener noreferrer\",\n                className: \"direct-link-button\",\n                children: \"\\uD83D\\uDD17 Test Direct Link\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"details\", {\n              style: {\n                marginTop: '15px',\n                padding: '10px',\n                background: '#f8f9fa',\n                borderRadius: '4px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"summary\", {\n                children: \"\\uD83C\\uDF10 Network Debugging\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: '10px',\n                  fontSize: '12px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"1. Open browser developer tools (F12)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"2. Go to Network tab\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"3. Click \\\"Test Direct Link\\\" above\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"4. Check if you see 403 Forbidden, CORS error, or other issues\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Common S3 errors:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 186,\n                    columnNumber: 26\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  style: {\n                    margin: '5px 0',\n                    paddingLeft: '20px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"403 Forbidden:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 188,\n                      columnNumber: 29\n                    }, this), \" Bucket policy issue\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 188,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"CORS error:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 189,\n                      columnNumber: 29\n                    }, this), \" Need to configure S3 CORS\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 189,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"DNS issues:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 190,\n                      columnNumber: 29\n                    }, this), \" Check AWS region settings\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 190,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 17\n          }, this), !imageError && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: displayUrl,\n            alt: \"Medical Report\",\n            className: \"report-image\",\n            onLoad: handleImageLoad,\n            onError: handleImageError,\n            style: {\n              display: imageLoading ? 'none' : 'block'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no-image\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"\\uD83D\\uDCCB Image Not Available\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 15\n          }, this), !reportData ?\n          /*#__PURE__*/\n          // Case 1: No reportData passed to component\n          _jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u274C No report data was passed to this component.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                background: '#fff3cd',\n                padding: '15px',\n                borderRadius: '8px',\n                marginTop: '15px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                children: \"\\uD83D\\uDD27 Fix Required in Parent Component:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"The parent component needs to pass the full \", /*#__PURE__*/_jsxDEV(\"code\", {\n                  children: \"reportData\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 68\n                }, this), \" object:\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n                style: {\n                  background: '#f8f9fa',\n                  padding: '10px',\n                  borderRadius: '4px',\n                  marginTop: '10px'\n                },\n                children: `<ReportModal\n  isOpen={modalOpen}\n  onClose={closeModal}\n  reportData={selectedReport}  // ‚Üê Add this line\n  imageUrl={selectedReport?.file_url}\n/>`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 17\n          }, this) :\n          /*#__PURE__*/\n          // Case 2: reportData exists but no valid URL\n          _jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u274C The image URL contains 'undefined' which indicates a backend storage issue.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                background: '#fff3cd',\n                padding: '15px',\n                borderRadius: '8px',\n                marginTop: '15px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                children: \"\\uD83D\\uDD27 Backend Troubleshooting Steps:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n                style: {\n                  textAlign: 'left',\n                  margin: '10px 0'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"Check if AWS S3 is properly configured\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"Verify AWS credentials in .env file\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"Ensure Django storage settings are correct\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"Re-upload the file after fixing backend\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 17\n          }, this), process.env.NODE_ENV === 'development' && /*#__PURE__*/_jsxDEV(\"details\", {\n            style: {\n              marginTop: '20px',\n              padding: '10px',\n              background: '#f8f9fa',\n              borderRadius: '4px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"summary\", {\n              children: \"\\uD83D\\uDC1B Technical Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: '10px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Raw imageUrl:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 24\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"code\", {\n                  children: String(imageUrl)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 55\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Contains 'undefined':\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 24\n                }, this), \" \", imageUrl && imageUrl.includes('undefined') ? '‚úÖ Yes (this is the problem!)' : '‚ùå No']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Received reportData:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 24\n                }, this), \" \", reportData ? '‚úÖ Yes' : '‚ùå No']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"reportData.file:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 24\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"code\", {\n                  children: String(reportData === null || reportData === void 0 ? void 0 : reportData.file)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 58\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"reportData.file_url:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 24\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"code\", {\n                  children: String(reportData === null || reportData === void 0 ? void 0 : reportData.file_url)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 62\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n                style: {\n                  fontSize: '10px',\n                  overflow: 'auto',\n                  background: 'white',\n                  padding: '10px',\n                  borderRadius: '4px'\n                },\n                children: JSON.stringify({\n                  imageUrl,\n                  reportData\n                }, null, 2)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 13\n        }, this), reportData && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"report-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"\\uD83D\\uDCCB Report Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 15\n          }, this), reportData.report_type && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Type:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 20\n            }, this), \" \", reportData.report_type]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 17\n          }, this), reportData.report_date && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Date:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 20\n            }, this), \" \", new Date(reportData.report_date).toLocaleDateString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 17\n          }, this), reportData.created_at && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Uploaded:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 20\n            }, this), \" \", new Date(reportData.created_at).toLocaleDateString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 17\n          }, this), reportData.first_name && reportData.last_name && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Patient:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 20\n            }, this), \" \", reportData.first_name, \" \", reportData.last_name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 17\n          }, this), reportData.ai_summary && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ai-summary\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"\\uD83E\\uDD16 AI Analysis\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-text\",\n              children: reportData.ai_summary.split('\\n').map((line, index) => /*#__PURE__*/_jsxDEV(\"p\", {\n                children: line\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-footer\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"close-modal-btn\",\n          children: \"\\u274C Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 11\n        }, this), displayUrl && !imageError && /*#__PURE__*/_jsxDEV(\"a\", {\n          href: displayUrl,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          className: \"open-new-tab-btn\",\n          children: \"\\uD83D\\uDD17 Open in New Tab\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 5\n  }, this);\n};\n_s(ReportModal, \"Mf79OTIgIj7OiK/f0tRK0xcYL/8=\");\n_c = ReportModal;\nexport default ReportModal;\nvar _c;\n$RefreshReg$(_c, \"ReportModal\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","ReportModal","isOpen","onClose","imageUrl","reportData","_s","imageError","setImageError","imageLoading","setImageLoading","handleKeyDown","e","key","document","addEventListener","body","style","overflow","removeEventListener","handleOverlayClick","target","currentTarget","handleImageLoad","console","log","handleImageError","src","getImageUrl","possibleUrls","file_url","file","image_url","url","undefined","trim","includes","startsWith","displayUrl","handleRetry","className","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","process","env","NODE_ENV","marginBottom","padding","background","borderRadius","cursor","fontWeight","marginTop","fontSize","String","Object","keys","join","JSON","stringify","textAlign","margin","href","rel","paddingLeft","alt","onLoad","onError","display","report_type","report_date","Date","toLocaleDateString","created_at","first_name","last_name","ai_summary","split","map","line","index","_c","$RefreshReg$"],"sources":["C:/Users/Piyush/health-app/frontend/src/components/ReportModal/ReportModal.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './ReportModal.css';\r\n\r\nconst ReportModal = ({ isOpen, onClose, imageUrl, reportData }) => {\r\n  const [imageError, setImageError] = useState(false);\r\n  const [imageLoading, setImageLoading] = useState(true);\r\n\r\n  // Reset states when modal opens/closes\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      setImageError(false);\r\n      setImageLoading(true);\r\n    }\r\n  }, [isOpen]);\r\n\r\n  // Handle keyboard events (ESC to close)\r\n  useEffect(() => {\r\n    const handleKeyDown = (e) => {\r\n      if (e.key === 'Escape' && isOpen) {\r\n        onClose();\r\n      }\r\n    };\r\n\r\n    if (isOpen) {\r\n      document.addEventListener('keydown', handleKeyDown);\r\n      document.body.style.overflow = 'hidden'; // Prevent background scroll\r\n    }\r\n\r\n    return () => {\r\n      document.removeEventListener('keydown', handleKeyDown);\r\n      document.body.style.overflow = 'unset'; // Restore scroll\r\n    };\r\n  }, [isOpen, onClose]);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const handleOverlayClick = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  const handleImageLoad = () => {\r\n    console.log(\"‚úÖ Image loaded successfully\");\r\n    setImageLoading(false);\r\n    setImageError(false);\r\n  };\r\n\r\n  const handleImageError = (e) => {\r\n    console.log(\"‚ùå Image failed to load:\", e.target.src);\r\n    setImageLoading(false);\r\n    setImageError(true);\r\n  };\r\n\r\n  // Fixed: Better URL determination with proper fallback logic\r\n  const getImageUrl = () => {\r\n    console.log(\"üîç Debug - imageUrl prop:\", imageUrl);\r\n    console.log(\"üîç Debug - reportData:\", reportData);\r\n\r\n    // Priority order for URL sources\r\n    const possibleUrls = [\r\n      reportData?.file_url,  // ‚úÖ First priority from serializer\r\n      reportData?.file,      // ‚úÖ Second priority from serializer\r\n      imageUrl,              // ‚úÖ Fallback from prop\r\n      reportData?.image_url, // Alternative field name\r\n      reportData?.url        // Generic fallback\r\n    ];\r\n\r\n    console.log(\"üîç All possible URLs:\", possibleUrls);\r\n\r\n    for (const url of possibleUrls) {\r\n      if (url && \r\n          url !== 'undefined' && \r\n          url !== undefined && \r\n          url.trim() !== '' &&\r\n          !url.includes('/undefined') &&  // Check for /undefined in URL\r\n          url.startsWith('http')) {       // Ensure it's a proper URL\r\n        console.log(\"‚úÖ Using URL:\", url);\r\n        return url;\r\n      }\r\n    }\r\n\r\n    console.log(\"‚ùå No valid URL found - all URLs contained 'undefined' or were invalid\");\r\n    return null;\r\n  };\r\n\r\n  const displayUrl = getImageUrl();\r\n\r\n  const handleRetry = () => {\r\n    console.log(\"üîÑ Retrying image load...\");\r\n    setImageError(false);\r\n    setImageLoading(true);\r\n  };\r\n\r\n  return (\r\n    <div className=\"modal-overlay\" onClick={handleOverlayClick}>\r\n      <div className=\"modal-content\">\r\n        <div className=\"modal-header\">\r\n          <h3>Medical Report</h3>\r\n          <button \r\n            className=\"close-button\" \r\n            onClick={onClose}\r\n            aria-label=\"Close modal\"\r\n          >\r\n            &times;\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"modal-body\">\r\n          {/* DEBUGGING INFO (remove in production) */}\r\n          {process.env.NODE_ENV === 'development' && (\r\n            <div className=\"debug-info\">\r\n              <details style={{marginBottom: '20px', padding: '10px', background: '#f0f0f0', borderRadius: '4px'}}>\r\n                <summary style={{cursor: 'pointer', fontWeight: 'bold'}}>üêõ Debug Info (click to expand)</summary>\r\n                <div style={{marginTop: '10px', fontSize: '12px'}}>\r\n                  <p><strong>imageUrl prop:</strong> <code>{String(imageUrl)}</code></p>\r\n                  <p><strong>reportData received:</strong> {reportData ? '‚úÖ Yes' : '‚ùå No (THIS IS THE PROBLEM!)'}</p>\r\n                  <p><strong>reportData file:</strong> <code>{String(reportData?.file)}</code></p>\r\n                  <p><strong>reportData file_url:</strong> <code>{String(reportData?.file_url)}</code></p>\r\n                  <p><strong>reportData keys:</strong> {reportData ? Object.keys(reportData).join(', ') : 'No reportData'}</p>\r\n                  <p><strong>Final displayUrl:</strong> <code>{String(displayUrl)}</code></p>\r\n                  <p><strong>Image Error:</strong> {String(imageError)}</p>\r\n                  <p><strong>Image Loading:</strong> {String(imageLoading)}</p>\r\n                  \r\n                  {reportData && (\r\n                    <details style={{marginTop: '10px'}}>\r\n                      <summary>Full reportData object:</summary>\r\n                      <pre style={{fontSize: '10px', overflow: 'auto', background: 'white', padding: '5px', marginTop: '5px'}}>\r\n                        {JSON.stringify(reportData, null, 2)}\r\n                      </pre>\r\n                    </details>\r\n                  )}\r\n                </div>\r\n              </details>\r\n            </div>\r\n          )}\r\n\r\n          {displayUrl ? (\r\n            <div className=\"image-container\">\r\n              {/* Loading Spinner */}\r\n              {imageLoading && !imageError && (\r\n                <div className=\"loading-spinner\">\r\n                  <div className=\"spinner\"></div>\r\n                  <p>Loading image...</p>\r\n                </div>\r\n              )}\r\n              \r\n              {/* Error State */}\r\n              {imageError && (\r\n                <div className=\"error-message\">\r\n                  <h4>‚ùå Failed to Load Image</h4>\r\n                  <p><strong>URL:</strong> <code>{displayUrl}</code></p>\r\n                  \r\n                  <div style={{background: '#fff3cd', padding: '15px', borderRadius: '8px', marginTop: '15px'}}>\r\n                    <h5>üîß S3 Access Issue - Check These:</h5>\r\n                    <ol style={{textAlign: 'left', margin: '10px 0'}}>\r\n                      <li><strong>S3 Bucket Policy:</strong> Make bucket publicly readable</li>\r\n                      <li><strong>CORS Settings:</strong> Allow your domain in S3 CORS</li>\r\n                      <li><strong>Django Settings:</strong> Check AWS_DEFAULT_ACL = 'public-read'</li>\r\n                      <li><strong>Network:</strong> Try opening the direct link below</li>\r\n                    </ol>\r\n                  </div>\r\n                  \r\n                  <div className=\"error-actions\">\r\n                    <button onClick={handleRetry} className=\"retry-button\">\r\n                      üîÑ Retry\r\n                    </button>\r\n                    <a \r\n                      href={displayUrl} \r\n                      target=\"_blank\" \r\n                      rel=\"noopener noreferrer\"\r\n                      className=\"direct-link-button\"\r\n                    >\r\n                      üîó Test Direct Link\r\n                    </a>\r\n                  </div>\r\n                  \r\n                  {/* Add network debugging */}\r\n                  <details style={{marginTop: '15px', padding: '10px', background: '#f8f9fa', borderRadius: '4px'}}>\r\n                    <summary>üåê Network Debugging</summary>\r\n                    <div style={{marginTop: '10px', fontSize: '12px'}}>\r\n                      <p>1. Open browser developer tools (F12)</p>\r\n                      <p>2. Go to Network tab</p>\r\n                      <p>3. Click \"Test Direct Link\" above</p>\r\n                      <p>4. Check if you see 403 Forbidden, CORS error, or other issues</p>\r\n                      <p><strong>Common S3 errors:</strong></p>\r\n                      <ul style={{margin: '5px 0', paddingLeft: '20px'}}>\r\n                        <li><strong>403 Forbidden:</strong> Bucket policy issue</li>\r\n                        <li><strong>CORS error:</strong> Need to configure S3 CORS</li>\r\n                        <li><strong>DNS issues:</strong> Check AWS region settings</li>\r\n                      </ul>\r\n                    </div>\r\n                  </details>\r\n                </div>\r\n              )}\r\n\r\n              {/* Actual Image */}\r\n              {!imageError && (\r\n                <img\r\n                  src={displayUrl}\r\n                  alt=\"Medical Report\"\r\n                  className=\"report-image\"\r\n                  onLoad={handleImageLoad}\r\n                  onError={handleImageError}\r\n                  style={{ display: imageLoading ? 'none' : 'block' }}\r\n                />\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <div className=\"no-image\">\r\n              <h4>üìã Image Not Available</h4>\r\n              \r\n              {!reportData ? (\r\n                // Case 1: No reportData passed to component\r\n                <div>\r\n                  <p>‚ùå No report data was passed to this component.</p>\r\n                  \r\n                  <div style={{background: '#fff3cd', padding: '15px', borderRadius: '8px', marginTop: '15px'}}>\r\n                    <h5>üîß Fix Required in Parent Component:</h5>\r\n                    <p>The parent component needs to pass the full <code>reportData</code> object:</p>\r\n                    <pre style={{background: '#f8f9fa', padding: '10px', borderRadius: '4px', marginTop: '10px'}}>\r\n{`<ReportModal\r\n  isOpen={modalOpen}\r\n  onClose={closeModal}\r\n  reportData={selectedReport}  // ‚Üê Add this line\r\n  imageUrl={selectedReport?.file_url}\r\n/>`}\r\n                    </pre>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                // Case 2: reportData exists but no valid URL\r\n                <div>\r\n                  <p>‚ùå The image URL contains 'undefined' which indicates a backend storage issue.</p>\r\n                  \r\n                  <div style={{background: '#fff3cd', padding: '15px', borderRadius: '8px', marginTop: '15px'}}>\r\n                    <h5>üîß Backend Troubleshooting Steps:</h5>\r\n                    <ol style={{textAlign: 'left', margin: '10px 0'}}>\r\n                      <li>Check if AWS S3 is properly configured</li>\r\n                      <li>Verify AWS credentials in .env file</li>\r\n                      <li>Ensure Django storage settings are correct</li>\r\n                      <li>Re-upload the file after fixing backend</li>\r\n                    </ol>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Show what we got for debugging */}\r\n              {process.env.NODE_ENV === 'development' && (\r\n                <details style={{marginTop: '20px', padding: '10px', background: '#f8f9fa', borderRadius: '4px'}}>\r\n                  <summary>üêõ Technical Details</summary>\r\n                  <div style={{marginTop: '10px'}}>\r\n                    <p><strong>Raw imageUrl:</strong> <code>{String(imageUrl)}</code></p>\r\n                    <p><strong>Contains 'undefined':</strong> {imageUrl && imageUrl.includes('undefined') ? '‚úÖ Yes (this is the problem!)' : '‚ùå No'}</p>\r\n                    <p><strong>Received reportData:</strong> {reportData ? '‚úÖ Yes' : '‚ùå No'}</p>\r\n                    <p><strong>reportData.file:</strong> <code>{String(reportData?.file)}</code></p>\r\n                    <p><strong>reportData.file_url:</strong> <code>{String(reportData?.file_url)}</code></p>\r\n                    <pre style={{fontSize: '10px', overflow: 'auto', background: 'white', padding: '10px', borderRadius: '4px'}}>\r\n                      {JSON.stringify({imageUrl, reportData}, null, 2)}\r\n                    </pre>\r\n                  </div>\r\n                </details>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Report Information */}\r\n          {reportData && (\r\n            <div className=\"report-info\">\r\n              <h4>üìã Report Details</h4>\r\n              \r\n              {reportData.report_type && (\r\n                <p><strong>Type:</strong> {reportData.report_type}</p>\r\n              )}\r\n              \r\n              {reportData.report_date && (\r\n                <p><strong>Date:</strong> {new Date(reportData.report_date).toLocaleDateString()}</p>\r\n              )}\r\n              \r\n              {reportData.created_at && (\r\n                <p><strong>Uploaded:</strong> {new Date(reportData.created_at).toLocaleDateString()}</p>\r\n              )}\r\n              \r\n              {reportData.first_name && reportData.last_name && (\r\n                <p><strong>Patient:</strong> {reportData.first_name} {reportData.last_name}</p>\r\n              )}\r\n              \r\n              {reportData.ai_summary && (\r\n                <div className=\"ai-summary\">\r\n                  <h5>ü§ñ AI Analysis</h5>\r\n                  <div className=\"summary-text\">\r\n                    {reportData.ai_summary.split('\\n').map((line, index) => (\r\n                      <p key={index}>{line}</p>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"modal-footer\">\r\n          <button onClick={onClose} className=\"close-modal-btn\">\r\n            ‚ùå Close\r\n          </button>\r\n          \r\n          {displayUrl && !imageError && (\r\n            <a \r\n              href={displayUrl} \r\n              target=\"_blank\" \r\n              rel=\"noopener noreferrer\"\r\n              className=\"open-new-tab-btn\"\r\n            >\r\n              üîó Open in New Tab\r\n            </a>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReportModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}