{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Piyush\\\\health-app\\\\frontend\\\\src\\\\components\\\\ReportModal\\\\ReportModal.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './ReportModal.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ReportModal = ({\n  isOpen,\n  onClose,\n  imageUrl,\n  reportData\n}) => {\n  _s();\n  const [imageError, setImageError] = useState(false);\n  const [imageLoading, setImageLoading] = useState(true);\n\n  // Reset states when modal opens/closes\n  useEffect(() => {\n    if (isOpen) {\n      setImageError(false);\n      setImageLoading(true);\n    }\n  }, [isOpen]);\n\n  // 🔧 FIXED: Handle keyboard events (ESC to close)\n  useEffect(() => {\n    const handleKeyDown = e => {\n      if (e.key === 'Escape' && isOpen) {\n        onClose();\n      }\n    };\n    if (isOpen) {\n      document.addEventListener('keydown', handleKeyDown);\n      document.body.style.overflow = 'hidden'; // Prevent background scroll\n    }\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n      document.body.style.overflow = 'unset'; // Restore scroll\n    };\n  }, [isOpen, onClose]);\n  if (!isOpen) return null;\n  const handleOverlayClick = e => {\n    if (e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n  const handleImageLoad = () => {\n    console.log(\"✅ Image loaded successfully\");\n    setImageLoading(false);\n    setImageError(false);\n  };\n  const handleImageError = e => {\n    console.log(\"❌ Image failed to load:\", e.target.src);\n    setImageLoading(false);\n    setImageError(true);\n  };\n\n  // 🔧 FIXED: Better URL determination with debugging\n  const getImageUrl = () => {\n    console.log(\"🔍 Debug - imageUrl prop:\", imageUrl);\n    console.log(\"🔍 Debug - reportData:\", reportData);\n\n    // Try different possible URL sources\n    const getImageUrl = () => {\n      const url = (reportData === null || reportData === void 0 ? void 0 : reportData.file_url) || imageUrl;\n      if (url && url.startsWith(\"http\")) {\n        return url;\n      }\n      return null;\n    };\n    console.log(\"🔍 All possible URLs:\", possibleUrls);\n    for (const url of possibleUrls) {\n      if (url && url !== 'undefined' && url !== undefined && url.trim() !== '' && !url.includes('/undefined') &&\n      // 🔧 ADDED: Check for /undefined in URL\n      url.startsWith('http')) {\n        // 🔧 ADDED: Ensure it's a proper URL\n        console.log(\"✅ Using URL:\", url);\n        return url;\n      }\n    }\n    console.log(\"❌ No valid URL found - all URLs contained 'undefined' or were invalid\");\n    return null;\n  };\n  const displayUrl = getImageUrl();\n  const handleRetry = () => {\n    console.log(\"🔄 Retrying image load...\");\n    setImageError(false);\n    setImageLoading(true);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-overlay\",\n    onClick: handleOverlayClick,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Medical Report\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"close-button\",\n          onClick: onClose,\n          \"aria-label\": \"Close modal\",\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-body\",\n        children: [process.env.NODE_ENV === 'development' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"debug-info\",\n          children: /*#__PURE__*/_jsxDEV(\"details\", {\n            style: {\n              marginBottom: '20px',\n              padding: '10px',\n              background: '#f0f0f0',\n              borderRadius: '4px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"summary\", {\n              style: {\n                cursor: 'pointer',\n                fontWeight: 'bold'\n              },\n              children: \"\\uD83D\\uDC1B Debug Info (click to expand)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: '10px',\n                fontSize: '12px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"imageUrl prop:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 118,\n                  columnNumber: 22\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"code\", {\n                  children: String(imageUrl)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 118,\n                  columnNumber: 54\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"reportData file:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 119,\n                  columnNumber: 22\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"code\", {\n                  children: String(reportData === null || reportData === void 0 ? void 0 : reportData.file)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 119,\n                  columnNumber: 56\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"reportData file_url:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 22\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"code\", {\n                  children: String(reportData === null || reportData === void 0 ? void 0 : reportData.file_url)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 60\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"reportData keys:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 121,\n                  columnNumber: 22\n                }, this), \" \", reportData ? Object.keys(reportData).join(', ') : 'No reportData']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Final displayUrl:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 122,\n                  columnNumber: 22\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"code\", {\n                  children: String(displayUrl)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 122,\n                  columnNumber: 57\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Image Error:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 22\n                }, this), \" \", String(imageError)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Image Loading:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 124,\n                  columnNumber: 22\n                }, this), \" \", String(imageLoading)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 19\n              }, this), reportData && /*#__PURE__*/_jsxDEV(\"details\", {\n                style: {\n                  marginTop: '10px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"summary\", {\n                  children: \"Full reportData object:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n                  style: {\n                    fontSize: '10px',\n                    overflow: 'auto',\n                    background: 'white',\n                    padding: '5px',\n                    marginTop: '5px'\n                  },\n                  children: JSON.stringify(reportData, null, 2)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 13\n        }, this), displayUrl ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"image-container\",\n          children: [imageLoading && !imageError && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loading-spinner\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"spinner\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Loading image...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 17\n          }, this), imageError && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error-message\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"\\u274C Failed to Load Image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"URL:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 22\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"code\", {\n                children: displayUrl\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 44\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"error-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleRetry,\n                className: \"retry-button\",\n                children: \"\\uD83D\\uDD04 Retry\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: displayUrl,\n                target: \"_blank\",\n                rel: \"noopener noreferrer\",\n                className: \"direct-link-button\",\n                children: \"\\uD83D\\uDD17 Open Direct Link\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 17\n          }, this), !imageError && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: displayUrl,\n            alt: \"Medical Report\",\n            className: \"report-image\",\n            onLoad: handleImageLoad,\n            onError: handleImageError,\n            style: {\n              display: imageLoading ? 'none' : 'block'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no-image\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"\\uD83D\\uDCCB Image Not Available\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u274C The image URL contains 'undefined' which indicates a backend storage issue.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              background: '#fff3cd',\n              padding: '15px',\n              borderRadius: '8px',\n              marginTop: '15px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"\\uD83D\\uDD27 Troubleshooting Steps:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n              style: {\n                textAlign: 'left',\n                margin: '10px 0'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Check if AWS S3 is properly configured\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Verify AWS credentials in .env file\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Ensure Django storage settings are correct\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Re-upload the file after fixing backend\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 15\n          }, this), process.env.NODE_ENV === 'development' && /*#__PURE__*/_jsxDEV(\"details\", {\n            style: {\n              marginTop: '20px',\n              padding: '10px',\n              background: '#f8f9fa',\n              borderRadius: '4px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"summary\", {\n              children: \"\\uD83D\\uDC1B Technical Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: '10px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Raw imageUrl:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 24\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"code\", {\n                  children: String(imageUrl)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 55\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Contains 'undefined':\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 24\n                }, this), \" \", imageUrl && imageUrl.includes('undefined') ? '✅ Yes (this is the problem!)' : '❌ No']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Received reportData:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 24\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n                style: {\n                  fontSize: '10px',\n                  overflow: 'auto',\n                  background: 'white',\n                  padding: '10px',\n                  borderRadius: '4px'\n                },\n                children: JSON.stringify({\n                  imageUrl,\n                  reportData\n                }, null, 2)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 13\n        }, this), reportData && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"report-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"\\uD83D\\uDCCB Report Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 15\n          }, this), reportData.report_type && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Type:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 20\n            }, this), \" \", reportData.report_type]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 17\n          }, this), reportData.report_date && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Date:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 20\n            }, this), \" \", new Date(reportData.report_date).toLocaleDateString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 17\n          }, this), reportData.created_at && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Uploaded:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 20\n            }, this), \" \", new Date(reportData.created_at).toLocaleDateString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 17\n          }, this), reportData.ai_summary && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ai-summary\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"\\uD83E\\uDD16 AI Analysis\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-text\",\n              children: reportData.ai_summary.split('\\n').map((line, index) => /*#__PURE__*/_jsxDEV(\"p\", {\n                children: line\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-footer\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"close-modal-btn\",\n          children: \"\\u274C Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this), displayUrl && !imageError && /*#__PURE__*/_jsxDEV(\"a\", {\n          href: displayUrl,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          className: \"open-new-tab-btn\",\n          children: \"\\uD83D\\uDD17 Open in New Tab\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 5\n  }, this);\n};\n_s(ReportModal, \"Mf79OTIgIj7OiK/f0tRK0xcYL/8=\");\n_c = ReportModal;\nexport default ReportModal;\nvar _c;\n$RefreshReg$(_c, \"ReportModal\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","ReportModal","isOpen","onClose","imageUrl","reportData","_s","imageError","setImageError","imageLoading","setImageLoading","handleKeyDown","e","key","document","addEventListener","body","style","overflow","removeEventListener","handleOverlayClick","target","currentTarget","handleImageLoad","console","log","handleImageError","src","getImageUrl","url","file_url","startsWith","possibleUrls","undefined","trim","includes","displayUrl","handleRetry","className","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","process","env","NODE_ENV","marginBottom","padding","background","borderRadius","cursor","fontWeight","marginTop","fontSize","String","file","Object","keys","join","JSON","stringify","href","rel","alt","onLoad","onError","display","textAlign","margin","report_type","report_date","Date","toLocaleDateString","created_at","ai_summary","split","map","line","index","_c","$RefreshReg$"],"sources":["C:/Users/Piyush/health-app/frontend/src/components/ReportModal/ReportModal.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './ReportModal.css';\r\n\r\nconst ReportModal = ({ isOpen, onClose, imageUrl, reportData }) => {\r\n  const [imageError, setImageError] = useState(false);\r\n  const [imageLoading, setImageLoading] = useState(true);\r\n\r\n  // Reset states when modal opens/closes\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      setImageError(false);\r\n      setImageLoading(true);\r\n    }\r\n  }, [isOpen]);\r\n\r\n  // 🔧 FIXED: Handle keyboard events (ESC to close)\r\n  useEffect(() => {\r\n    const handleKeyDown = (e) => {\r\n      if (e.key === 'Escape' && isOpen) {\r\n        onClose();\r\n      }\r\n    };\r\n\r\n    if (isOpen) {\r\n      document.addEventListener('keydown', handleKeyDown);\r\n      document.body.style.overflow = 'hidden'; // Prevent background scroll\r\n    }\r\n\r\n    return () => {\r\n      document.removeEventListener('keydown', handleKeyDown);\r\n      document.body.style.overflow = 'unset'; // Restore scroll\r\n    };\r\n  }, [isOpen, onClose]);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const handleOverlayClick = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  const handleImageLoad = () => {\r\n    console.log(\"✅ Image loaded successfully\");\r\n    setImageLoading(false);\r\n    setImageError(false);\r\n  };\r\n\r\n  const handleImageError = (e) => {\r\n    console.log(\"❌ Image failed to load:\", e.target.src);\r\n    setImageLoading(false);\r\n    setImageError(true);\r\n  };\r\n\r\n  // 🔧 FIXED: Better URL determination with debugging\r\n  const getImageUrl = () => {\r\n    console.log(\"🔍 Debug - imageUrl prop:\", imageUrl);\r\n    console.log(\"🔍 Debug - reportData:\", reportData);\r\n\r\n    // Try different possible URL sources\r\n    const getImageUrl = () => {\r\n  const url = reportData?.file_url || imageUrl;\r\n  if (url && url.startsWith(\"http\")) {\r\n    return url;\r\n  }\r\n  return null;\r\n};\r\n\r\n\r\n\r\n    console.log(\"🔍 All possible URLs:\", possibleUrls);\r\n\r\n    for (const url of possibleUrls) {\r\n      if (url && \r\n          url !== 'undefined' && \r\n          url !== undefined && \r\n          url.trim() !== '' &&\r\n          !url.includes('/undefined') &&  // 🔧 ADDED: Check for /undefined in URL\r\n          url.startsWith('http')) {  // 🔧 ADDED: Ensure it's a proper URL\r\n        console.log(\"✅ Using URL:\", url);\r\n        return url;\r\n      }\r\n    }\r\n\r\n    console.log(\"❌ No valid URL found - all URLs contained 'undefined' or were invalid\");\r\n    return null;\r\n  };\r\n\r\n  const displayUrl = getImageUrl();\r\n\r\n  const handleRetry = () => {\r\n    console.log(\"🔄 Retrying image load...\");\r\n    setImageError(false);\r\n    setImageLoading(true);\r\n  };\r\n\r\n  return (\r\n    <div className=\"modal-overlay\" onClick={handleOverlayClick}>\r\n      <div className=\"modal-content\">\r\n        <div className=\"modal-header\">\r\n          <h3>Medical Report</h3>\r\n          <button \r\n            className=\"close-button\" \r\n            onClick={onClose}\r\n            aria-label=\"Close modal\"\r\n          >\r\n            &times;\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"modal-body\">\r\n          {/* 🔧 DEBUGGING INFO (remove in production) */}\r\n          {process.env.NODE_ENV === 'development' && (\r\n            <div className=\"debug-info\">\r\n              <details style={{marginBottom: '20px', padding: '10px', background: '#f0f0f0', borderRadius: '4px'}}>\r\n                <summary style={{cursor: 'pointer', fontWeight: 'bold'}}>🐛 Debug Info (click to expand)</summary>\r\n                <div style={{marginTop: '10px', fontSize: '12px'}}>\r\n                  <p><strong>imageUrl prop:</strong> <code>{String(imageUrl)}</code></p>\r\n                  <p><strong>reportData file:</strong> <code>{String(reportData?.file)}</code></p>\r\n                  <p><strong>reportData file_url:</strong> <code>{String(reportData?.file_url)}</code></p>\r\n                  <p><strong>reportData keys:</strong> {reportData ? Object.keys(reportData).join(', ') : 'No reportData'}</p>\r\n                  <p><strong>Final displayUrl:</strong> <code>{String(displayUrl)}</code></p>\r\n                  <p><strong>Image Error:</strong> {String(imageError)}</p>\r\n                  <p><strong>Image Loading:</strong> {String(imageLoading)}</p>\r\n                  \r\n                  {reportData && (\r\n                    <details style={{marginTop: '10px'}}>\r\n                      <summary>Full reportData object:</summary>\r\n                      <pre style={{fontSize: '10px', overflow: 'auto', background: 'white', padding: '5px', marginTop: '5px'}}>\r\n                        {JSON.stringify(reportData, null, 2)}\r\n                      </pre>\r\n                    </details>\r\n                  )}\r\n                </div>\r\n              </details>\r\n            </div>\r\n          )}\r\n\r\n          {displayUrl ? (\r\n            <div className=\"image-container\">\r\n              {/* Loading Spinner */}\r\n              {imageLoading && !imageError && (\r\n                <div className=\"loading-spinner\">\r\n                  <div className=\"spinner\"></div>\r\n                  <p>Loading image...</p>\r\n                </div>\r\n              )}\r\n              \r\n              {/* Error State */}\r\n              {imageError && (\r\n                <div className=\"error-message\">\r\n                  <h4>❌ Failed to Load Image</h4>\r\n                  <p><strong>URL:</strong> <code>{displayUrl}</code></p>\r\n                  <div className=\"error-actions\">\r\n                    <button onClick={handleRetry} className=\"retry-button\">\r\n                      🔄 Retry\r\n                    </button>\r\n                    <a \r\n                      href={displayUrl} \r\n                      target=\"_blank\" \r\n                      rel=\"noopener noreferrer\"\r\n                      className=\"direct-link-button\"\r\n                    >\r\n                      🔗 Open Direct Link\r\n                    </a>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Actual Image */}\r\n              {!imageError && (\r\n                <img\r\n                  src={displayUrl}\r\n                  alt=\"Medical Report\"\r\n                  className=\"report-image\"\r\n                  onLoad={handleImageLoad}\r\n                  onError={handleImageError}\r\n                  style={{ display: imageLoading ? 'none' : 'block' }}\r\n                />\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <div className=\"no-image\">\r\n              <h4>📋 Image Not Available</h4>\r\n              <p>❌ The image URL contains 'undefined' which indicates a backend storage issue.</p>\r\n              \r\n              <div style={{background: '#fff3cd', padding: '15px', borderRadius: '8px', marginTop: '15px'}}>\r\n                <h5>🔧 Troubleshooting Steps:</h5>\r\n                <ol style={{textAlign: 'left', margin: '10px 0'}}>\r\n                  <li>Check if AWS S3 is properly configured</li>\r\n                  <li>Verify AWS credentials in .env file</li>\r\n                  <li>Ensure Django storage settings are correct</li>\r\n                  <li>Re-upload the file after fixing backend</li>\r\n                </ol>\r\n              </div>\r\n\r\n              {/* Show what we got for debugging */}\r\n              {process.env.NODE_ENV === 'development' && (\r\n                <details style={{marginTop: '20px', padding: '10px', background: '#f8f9fa', borderRadius: '4px'}}>\r\n                  <summary>🐛 Technical Details</summary>\r\n                  <div style={{marginTop: '10px'}}>\r\n                    <p><strong>Raw imageUrl:</strong> <code>{String(imageUrl)}</code></p>\r\n                    <p><strong>Contains 'undefined':</strong> {imageUrl && imageUrl.includes('undefined') ? '✅ Yes (this is the problem!)' : '❌ No'}</p>\r\n                    <p><strong>Received reportData:</strong></p>\r\n                    <pre style={{fontSize: '10px', overflow: 'auto', background: 'white', padding: '10px', borderRadius: '4px'}}>\r\n                      {JSON.stringify({imageUrl, reportData}, null, 2)}\r\n                    </pre>\r\n                  </div>\r\n                </details>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Report Information */}\r\n          {reportData && (\r\n            <div className=\"report-info\">\r\n              <h4>📋 Report Details</h4>\r\n              \r\n              {reportData.report_type && (\r\n                <p><strong>Type:</strong> {reportData.report_type}</p>\r\n              )}\r\n              \r\n              {reportData.report_date && (\r\n                <p><strong>Date:</strong> {new Date(reportData.report_date).toLocaleDateString()}</p>\r\n              )}\r\n              \r\n              {reportData.created_at && (\r\n                <p><strong>Uploaded:</strong> {new Date(reportData.created_at).toLocaleDateString()}</p>\r\n              )}\r\n              \r\n              {reportData.ai_summary && (\r\n                <div className=\"ai-summary\">\r\n                  <h5>🤖 AI Analysis</h5>\r\n                  <div className=\"summary-text\">\r\n                    {reportData.ai_summary.split('\\n').map((line, index) => (\r\n                      <p key={index}>{line}</p>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"modal-footer\">\r\n          <button onClick={onClose} className=\"close-modal-btn\">\r\n            ❌ Close\r\n          </button>\r\n          \r\n          {displayUrl && !imageError && (\r\n            <a \r\n              href={displayUrl} \r\n              target=\"_blank\" \r\n              rel=\"noopener noreferrer\"\r\n              className=\"open-new-tab-btn\"\r\n            >\r\n              🔗 Open in New Tab\r\n            </a>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReportModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}