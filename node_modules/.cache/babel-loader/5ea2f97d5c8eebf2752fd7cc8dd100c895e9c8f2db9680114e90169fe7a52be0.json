{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Piyush\\\\health-app\\\\frontend\\\\src\\\\components\\\\ReportModal\\\\ReportModal.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport './ReportModal.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ReportModal = ({\n  isOpen,\n  onClose,\n  imageUrl,\n  reportData\n}) => {\n  _s();\n  const [imageError, setImageError] = useState(false);\n  const [imageLoading, setImageLoading] = useState(true);\n  if (!isOpen) return null;\n  const handleOverlayClick = e => {\n    if (e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n  const handleImageLoad = () => {\n    setImageLoading(false);\n    setImageError(false);\n  };\n  const handleImageError = () => {\n    setImageLoading(false);\n    setImageError(true);\n  };\n\n  // Determine which URL to use - prioritize imageUrl prop, then reportData.file\n  const displayUrl = imageUrl || (reportData === null || reportData === void 0 ? void 0 : reportData.file) || (reportData === null || reportData === void 0 ? void 0 : reportData.file_url);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-overlay\",\n    onClick: handleOverlayClick,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Medical Report\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"close-button\",\n          onClick: onClose,\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-body\",\n        children: displayUrl ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"image-container\",\n          children: [imageLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loading-spinner\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Loading image...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 17\n          }, this), imageError ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error-message\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u274C Error loading image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"URL: \", displayUrl]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setImageError(false);\n                setImageLoading(true);\n              },\n              className: \"retry-button\",\n              children: \"\\uD83D\\uDD04 Retry\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n            src: displayUrl,\n            alt: \"Medical Report\",\n            className: \"report-image\",\n            onLoad: handleImageLoad,\n            onError: handleImageError,\n            style: {\n              display: imageLoading ? 'none' : 'block'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 17\n          }, this), reportData && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"report-info\",\n            children: [reportData.report_type && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Type:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 24\n              }, this), \" \", reportData.report_type]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 21\n            }, this), reportData.report_date && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Date:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 24\n              }, this), \" \", reportData.report_date]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 21\n            }, this), reportData.ai_summary && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ai-summary\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"AI Summary:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: reportData.ai_summary\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no-image\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u274C No image available\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No image URL provided\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-footer\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"close-modal-btn\",\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), displayUrl && /*#__PURE__*/_jsxDEV(\"a\", {\n          href: displayUrl,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          className: \"open-new-tab-btn\",\n          children: \"\\uD83D\\uDD17 Open in New Tab\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n};\n_s(ReportModal, \"yA6MC4/13YXgE42AlKw5vrWMK58=\");\n_c = ReportModal;\nexport default ReportModal;\nvar _c;\n$RefreshReg$(_c, \"ReportModal\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","ReportModal","isOpen","onClose","imageUrl","reportData","_s","imageError","setImageError","imageLoading","setImageLoading","handleOverlayClick","e","target","currentTarget","handleImageLoad","handleImageError","displayUrl","file","file_url","className","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","onLoad","onError","style","display","report_type","report_date","ai_summary","href","rel","_c","$RefreshReg$"],"sources":["C:/Users/Piyush/health-app/frontend/src/components/ReportModal/ReportModal.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './ReportModal.css';\r\n\r\nconst ReportModal = ({ isOpen, onClose, imageUrl, reportData }) => {\r\n  const [imageError, setImageError] = useState(false);\r\n  const [imageLoading, setImageLoading] = useState(true);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const handleOverlayClick = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  const handleImageLoad = () => {\r\n    setImageLoading(false);\r\n    setImageError(false);\r\n  };\r\n\r\n  const handleImageError = () => {\r\n    setImageLoading(false);\r\n    setImageError(true);\r\n  };\r\n\r\n  // Determine which URL to use - prioritize imageUrl prop, then reportData.file\r\n  const displayUrl = imageUrl || reportData?.file || reportData?.file_url;\r\n\r\n  return (\r\n    <div className=\"modal-overlay\" onClick={handleOverlayClick}>\r\n      <div className=\"modal-content\">\r\n        <div className=\"modal-header\">\r\n          <h3>Medical Report</h3>\r\n          <button className=\"close-button\" onClick={onClose}>\r\n            &times;\r\n          </button>\r\n        </div>\r\n        <div className=\"modal-body\">\r\n          {displayUrl ? (\r\n            <div className=\"image-container\">\r\n              {imageLoading && (\r\n                <div className=\"loading-spinner\">\r\n                  <p>Loading image...</p>\r\n                </div>\r\n              )}\r\n              \r\n              {imageError ? (\r\n                <div className=\"error-message\">\r\n                  <p>‚ùå Error loading image</p>\r\n                  <p>URL: {displayUrl}</p>\r\n                  <button \r\n                    onClick={() => {\r\n                      setImageError(false);\r\n                      setImageLoading(true);\r\n                    }}\r\n                    className=\"retry-button\"\r\n                  >\r\n                    üîÑ Retry\r\n                  </button>\r\n                </div>\r\n              ) : (\r\n                <img\r\n                  src={displayUrl}\r\n                  alt=\"Medical Report\"\r\n                  className=\"report-image\"\r\n                  onLoad={handleImageLoad}\r\n                  onError={handleImageError}\r\n                  style={{ display: imageLoading ? 'none' : 'block' }}\r\n                />\r\n              )}\r\n              \r\n              {/* Show additional report info if available */}\r\n              {reportData && (\r\n                <div className=\"report-info\">\r\n                  {reportData.report_type && (\r\n                    <p><strong>Type:</strong> {reportData.report_type}</p>\r\n                  )}\r\n                  {reportData.report_date && (\r\n                    <p><strong>Date:</strong> {reportData.report_date}</p>\r\n                  )}\r\n                  {reportData.ai_summary && (\r\n                    <div className=\"ai-summary\">\r\n                      <h4>AI Summary:</h4>\r\n                      <p>{reportData.ai_summary}</p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <div className=\"no-image\">\r\n              <p>‚ùå No image available</p>\r\n              <p>No image URL provided</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n        \r\n        <div className=\"modal-footer\">\r\n          <button onClick={onClose} className=\"close-modal-btn\">\r\n            Close\r\n          </button>\r\n          {displayUrl && (\r\n            <a \r\n              href={displayUrl} \r\n              target=\"_blank\" \r\n              rel=\"noopener noreferrer\"\r\n              className=\"open-new-tab-btn\"\r\n            >\r\n              üîó Open in New Tab\r\n            </a>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReportModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}