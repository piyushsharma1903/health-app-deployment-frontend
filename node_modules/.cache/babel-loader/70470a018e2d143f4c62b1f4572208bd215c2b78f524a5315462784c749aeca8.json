{"ast":null,"code":"// src/App.js\nimport React,{useState}from\"react\";import{Route,Routes,useNavigate}from\"react-router-dom\";import Navbar from\"./components/Navbar/Navbar\";import Reports from\"./pages/Reports\";import UploadForm from\"./components/UploadForm/UploadForm\";import Login from\"./pages/firebase/Login\";import Profile from\"./pages/Profile/Profile\";import{signOut}from\"firebase/auth\";import{auth}from\"./pages/firebase/firebaseConfig\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function App(){const[user,setUser]=useState(null);// 🔐 Auth state\nconst navigate=useNavigate();// 🔁 For redirect after logout\nconst handleLogout=async()=>{await signOut(auth);setUser(null);navigate(\"/\");// 👋 Redirect to home/login after logout\n};return/*#__PURE__*/_jsx(_Fragment,{children:!user?/*#__PURE__*/// 🔒 No user → Show login page only\n_jsx(Routes,{children:/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Login,{setUser:setUser})})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(UploadForm,{user:user})}),/*#__PURE__*/_jsx(Route,{path:\"/reports\",element:/*#__PURE__*/_jsx(Reports,{user:user})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(Profile,{user:user,handleLogout:handleLogout})})]})]})});}export default App;","map":{"version":3,"names":["React","useState","Route","Routes","useNavigate","Navbar","Reports","UploadForm","Login","Profile","signOut","auth","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","user","setUser","navigate","handleLogout","children","path","element"],"sources":["C:/Users/Piyush/health-app/frontend/src/App.js"],"sourcesContent":["// src/App.js\nimport React, { useState } from \"react\";\nimport { Route, Routes, useNavigate } from \"react-router-dom\";\nimport Navbar from \"./components/Navbar/Navbar\";\nimport Reports from \"./pages/Reports\";\nimport UploadForm from \"./components/UploadForm/UploadForm\";\nimport Login from \"./pages/firebase/Login\";\nimport Profile from \"./pages/Profile/Profile\";\nimport { signOut } from \"firebase/auth\";\nimport { auth } from \"./pages/firebase/firebaseConfig\";\n\nfunction App() {\n  const [user, setUser] = useState(null); // 🔐 Auth state\n  const navigate = useNavigate();         // 🔁 For redirect after logout\n\n  const handleLogout = async () => {\n    await signOut(auth);\n    setUser(null);\n    navigate(\"/\"); // 👋 Redirect to home/login after logout\n  };\n\n  return (\n    <>\n      {!user ? (\n        // 🔒 No user → Show login page only\n        <Routes>\n          <Route path=\"*\" element={<Login setUser={setUser} />} />\n        </Routes>\n      ) : (\n        <>\n          <Navbar />\n          <Routes>\n            <Route path=\"/\" element={<UploadForm user={user} />} />\n            <Route path=\"/reports\" element={<Reports user={user} />} />\n            <Route\n              path=\"/profile\"\n              element={<Profile user={user} handleLogout={handleLogout} />}\n            />\n          </Routes>\n        </>\n      )}\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,KAAK,CAAEC,MAAM,CAAEC,WAAW,KAAQ,kBAAkB,CAC7D,MAAO,CAAAC,MAAM,KAAM,4BAA4B,CAC/C,MAAO,CAAAC,OAAO,KAAM,iBAAiB,CACrC,MAAO,CAAAC,UAAU,KAAM,oCAAoC,CAC3D,MAAO,CAAAC,KAAK,KAAM,wBAAwB,CAC1C,MAAO,CAAAC,OAAO,KAAM,yBAAyB,CAC7C,OAASC,OAAO,KAAQ,eAAe,CACvC,OAASC,IAAI,KAAQ,iCAAiC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEvD,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGnB,QAAQ,CAAC,IAAI,CAAC,CAAE;AACxC,KAAM,CAAAoB,QAAQ,CAAGjB,WAAW,CAAC,CAAC,CAAU;AAExC,KAAM,CAAAkB,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,KAAM,CAAAZ,OAAO,CAACC,IAAI,CAAC,CACnBS,OAAO,CAAC,IAAI,CAAC,CACbC,QAAQ,CAAC,GAAG,CAAC,CAAE;AACjB,CAAC,CAED,mBACER,IAAA,CAAAI,SAAA,EAAAM,QAAA,CACG,CAACJ,IAAI,cACJ;AACAN,IAAA,CAACV,MAAM,EAAAoB,QAAA,cACLV,IAAA,CAACX,KAAK,EAACsB,IAAI,CAAC,GAAG,CAACC,OAAO,cAAEZ,IAAA,CAACL,KAAK,EAACY,OAAO,CAAEA,OAAQ,CAAE,CAAE,CAAE,CAAC,CAClD,CAAC,cAETL,KAAA,CAAAE,SAAA,EAAAM,QAAA,eACEV,IAAA,CAACR,MAAM,GAAE,CAAC,cACVU,KAAA,CAACZ,MAAM,EAAAoB,QAAA,eACLV,IAAA,CAACX,KAAK,EAACsB,IAAI,CAAC,GAAG,CAACC,OAAO,cAAEZ,IAAA,CAACN,UAAU,EAACY,IAAI,CAAEA,IAAK,CAAE,CAAE,CAAE,CAAC,cACvDN,IAAA,CAACX,KAAK,EAACsB,IAAI,CAAC,UAAU,CAACC,OAAO,cAAEZ,IAAA,CAACP,OAAO,EAACa,IAAI,CAAEA,IAAK,CAAE,CAAE,CAAE,CAAC,cAC3DN,IAAA,CAACX,KAAK,EACJsB,IAAI,CAAC,UAAU,CACfC,OAAO,cAAEZ,IAAA,CAACJ,OAAO,EAACU,IAAI,CAAEA,IAAK,CAACG,YAAY,CAAEA,YAAa,CAAE,CAAE,CAC9D,CAAC,EACI,CAAC,EACT,CACH,CACD,CAAC,CAEP,CAEA,cAAe,CAAAJ,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}