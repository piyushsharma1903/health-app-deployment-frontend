{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import axios from\"axios\";import\"./Table.css\";import{FaFileAlt}from\"react-icons/fa\";import ReportModal from\"../ReportModal/ReportModal\";import SummaryModal from\"../SummaryModal/SummaryModal\";import{getAuth}from\"firebase/auth\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ReportTable=()=>{const[reports,setReports]=useState([]);const[reportModalOpen,setReportModalOpen]=useState(false);const[summaryModalOpen,setSummaryModalOpen]=useState(false);const[selectedReport,setSelectedReport]=useState(null);// ðŸ”§ FIXED: Store full report object\nconst[selectedSummary,setSelectedSummary]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const fetchReports=async user=>{try{setLoading(true);setError(null);console.log(\"ðŸ” User object:\",user);console.log(\"ðŸ” User email:\",user.email);console.log(\"ðŸ” User UID:\",user.uid);// Get a fresh token\nconst idToken=await user.getIdToken(true);console.log(\"ðŸŽ« Token generated (first 50 chars):\",idToken.substring(0,50)+\"...\");console.log(\"ðŸŽ« Token length:\",idToken.length);// Verify token format\nconst tokenParts=idToken.split('.');console.log(\"ðŸŽ« Token parts count:\",tokenParts.length);const headers={Authorization:`Bearer ${idToken}`,'Content-Type':'application/json'};console.log(\"ðŸ“¡ Request headers:\",headers);console.log(\"ðŸ“¡ Making request to: http://127.0.0.1:8000/api/reports/\");const response=await axios.get(\"http://127.0.0.1:8000/api/reports/\",{headers:headers});setReports(response.data);console.log(\"âœ… Reports fetched successfully:\",response.data);// ðŸ”§ ADDED: Debug each report's file fields\nresponse.data.forEach((report,index)=>{console.log(`ðŸ“‹ Report ${index+1}:`,{id:report.id,file:report.file,file_url:report.file_url,report_type:report.report_type,report_date:report.report_date});});}catch(err){var _err$response,_err$response2,_err$response3;console.error(\"âŒ Full error object:\",err);console.error(\"âŒ Error response:\",err.response);console.error(\"âŒ Error status:\",(_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.status);console.error(\"âŒ Error data:\",(_err$response2=err.response)===null||_err$response2===void 0?void 0:_err$response2.data);if(((_err$response3=err.response)===null||_err$response3===void 0?void 0:_err$response3.status)===401){setError(\"Authentication failed. Please log in again.\");}else{setError(\"Failed to fetch reports. Please try again.\");}}finally{setLoading(false);}};useEffect(()=>{const auth=getAuth();const unsubscribe=auth.onAuthStateChanged(async user=>{if(user){// Wait a bit to ensure the user is fully authenticated\nsetTimeout(()=>{fetchReports(user);},500);}else{console.warn(\"âš ï¸ User is not logged in\");setReports([]);setLoading(false);setError(\"Please log in to view reports.\");}});return()=>unsubscribe();},[]);const handleDelete=async id=>{const auth=getAuth();const user=auth.currentUser;if(!user){alert(\"You must be logged in to delete a report.\");return;}if(!window.confirm(\"Delete this report?\")){return;}try{const idToken=await user.getIdToken(true);await axios.delete(`http://127.0.0.1:8000/api/reports/${id}/`,{headers:{Authorization:`Bearer ${idToken}`,'Content-Type':'application/json'}});setReports(prev=>prev.filter(report=>report.id!==id));console.log(\"âœ… Report deleted successfully\");}catch(err){var _err$response4;console.error(\"âŒ Deletion failed:\",err);if(((_err$response4=err.response)===null||_err$response4===void 0?void 0:_err$response4.status)===401){alert(\"Authentication failed. Please log in again.\");}else{alert(\"Failed to delete report. Please try again.\");}}};const handleViewSummary=report=>{setSelectedSummary({summary:report.ai_summary,reportType:report.report_type,reportDate:report.report_date});setSummaryModalOpen(true);};// ðŸ”§ FIXED: Handle viewing report image\nconst handleViewReport=report=>{console.log(\"ðŸ–¼ï¸ Opening report modal for:\",report);console.log(\"ðŸ“ Report file field:\",report.file);console.log(\"ðŸ”— Report file_url field:\",report.file_url);setSelectedReport(report);// Store the full report object\nsetReportModalOpen(true);};const handleRetry=()=>{const auth=getAuth();const user=auth.currentUser;if(user){fetchReports(user);}};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"report-table-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Reports History\"}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"center\",padding:\"20px\"},children:\"Loading reports...\"})]});}if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"report-table-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Reports History\"}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\",padding:\"20px\",color:\"red\"},children:[error,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:handleRetry,style:{marginTop:\"10px\",padding:\"8px 16px\",backgroundColor:\"#007bff\",color:\"white\",border:\"none\",borderRadius:\"4px\",cursor:\"pointer\"},children:\"Retry\"})]})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"report-table-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Reports History\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"report-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Report Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Report Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"AI Summary\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Report Image\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:reports.length>0?reports.map(report=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:report.report_date||\"N/A\"}),/*#__PURE__*/_jsx(\"td\",{children:report.report_type}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"view-btn\",onClick:()=>handleViewSummary(report),children:\"View\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleViewReport(report),style:{backgroundColor:\"transparent\",color:\"#007bff\",padding:\"6px 12px\",border:\"none\",borderRadius:\"4px\",cursor:\"pointer\"},title:\"View Report Image\",disabled:!report.file_url&&!report.file// Disable if no file\n,children:/*#__PURE__*/_jsx(FaFileAlt,{})})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"delete-btn\",onClick:()=>handleDelete(report.id),children:\"Delete\"})})]},report.id)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"5\",style:{textAlign:\"center\"},children:\"No reports yet\"})})})]}),/*#__PURE__*/_jsx(ReportModal,{isOpen:reportModalOpen,onClose:()=>{setReportModalOpen(false);setSelectedReport(null);// Clear selected report when closing\n},reportData:selectedReport// âœ… Pass the full report object\n,imageUrl:(selectedReport===null||selectedReport===void 0?void 0:selectedReport.file_url)||(selectedReport===null||selectedReport===void 0?void 0:selectedReport.file)// âœ… Use correct field names\n}),/*#__PURE__*/_jsx(SummaryModal,{isOpen:summaryModalOpen,onClose:()=>setSummaryModalOpen(false),summary:selectedSummary===null||selectedSummary===void 0?void 0:selectedSummary.summary,reportType:selectedSummary===null||selectedSummary===void 0?void 0:selectedSummary.reportType,reportDate:selectedSummary===null||selectedSummary===void 0?void 0:selectedSummary.reportDate})]});};export default ReportTable;","map":{"version":3,"names":["React","useEffect","useState","axios","FaFileAlt","ReportModal","SummaryModal","getAuth","jsx","_jsx","jsxs","_jsxs","ReportTable","reports","setReports","reportModalOpen","setReportModalOpen","summaryModalOpen","setSummaryModalOpen","selectedReport","setSelectedReport","selectedSummary","setSelectedSummary","loading","setLoading","error","setError","fetchReports","user","console","log","email","uid","idToken","getIdToken","substring","length","tokenParts","split","headers","Authorization","response","get","data","forEach","report","index","id","file","file_url","report_type","report_date","err","_err$response","_err$response2","_err$response3","status","auth","unsubscribe","onAuthStateChanged","setTimeout","warn","handleDelete","currentUser","alert","window","confirm","delete","prev","filter","_err$response4","handleViewSummary","summary","ai_summary","reportType","reportDate","handleViewReport","handleRetry","className","children","style","textAlign","padding","color","onClick","marginTop","backgroundColor","border","borderRadius","cursor","map","title","disabled","colSpan","isOpen","onClose","reportData","imageUrl"],"sources":["C:/Users/Piyush/health-app/frontend/src/components/Table/Table.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./Table.css\";\r\nimport { FaFileAlt } from \"react-icons/fa\";\r\nimport ReportModal from \"../ReportModal/ReportModal\";\r\nimport SummaryModal from \"../SummaryModal/SummaryModal\";\r\nimport { getAuth } from \"firebase/auth\";\r\n\r\nconst ReportTable = () => {\r\n  const [reports, setReports] = useState([]);\r\n  const [reportModalOpen, setReportModalOpen] = useState(false);\r\n  const [summaryModalOpen, setSummaryModalOpen] = useState(false);\r\n  const [selectedReport, setSelectedReport] = useState(null); // ðŸ”§ FIXED: Store full report object\r\n  const [selectedSummary, setSelectedSummary] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  const fetchReports = async (user) => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      console.log(\"ðŸ” User object:\", user);\r\n      console.log(\"ðŸ” User email:\", user.email);\r\n      console.log(\"ðŸ” User UID:\", user.uid);\r\n      \r\n      // Get a fresh token\r\n      const idToken = await user.getIdToken(true);\r\n      console.log(\"ðŸŽ« Token generated (first 50 chars):\", idToken.substring(0, 50) + \"...\");\r\n      console.log(\"ðŸŽ« Token length:\", idToken.length);\r\n      \r\n      // Verify token format\r\n      const tokenParts = idToken.split('.');\r\n      console.log(\"ðŸŽ« Token parts count:\", tokenParts.length);\r\n      \r\n      const headers = {\r\n        Authorization: `Bearer ${idToken}`,\r\n        'Content-Type': 'application/json',\r\n      };\r\n      \r\n      console.log(\"ðŸ“¡ Request headers:\", headers);\r\n      console.log(\"ðŸ“¡ Making request to: http://127.0.0.1:8000/api/reports/\");\r\n\r\n      const response = await axios.get(\"http://127.0.0.1:8000/api/reports/\", {\r\n        headers: headers,\r\n      });\r\n\r\n      setReports(response.data);\r\n      console.log(\"âœ… Reports fetched successfully:\", response.data);\r\n      \r\n      // ðŸ”§ ADDED: Debug each report's file fields\r\n      response.data.forEach((report, index) => {\r\n        console.log(`ðŸ“‹ Report ${index + 1}:`, {\r\n          id: report.id,\r\n          file: report.file,\r\n          file_url: report.file_url,\r\n          report_type: report.report_type,\r\n          report_date: report.report_date\r\n        });\r\n      });\r\n      \r\n    } catch (err) {\r\n      console.error(\"âŒ Full error object:\", err);\r\n      console.error(\"âŒ Error response:\", err.response);\r\n      console.error(\"âŒ Error status:\", err.response?.status);\r\n      console.error(\"âŒ Error data:\", err.response?.data);\r\n      \r\n      if (err.response?.status === 401) {\r\n        setError(\"Authentication failed. Please log in again.\");\r\n      } else {\r\n        setError(\"Failed to fetch reports. Please try again.\");\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const auth = getAuth();\r\n    \r\n    const unsubscribe = auth.onAuthStateChanged(async (user) => {\r\n      if (user) {\r\n        // Wait a bit to ensure the user is fully authenticated\r\n        setTimeout(() => {\r\n          fetchReports(user);\r\n        }, 500);\r\n      } else {\r\n        console.warn(\"âš ï¸ User is not logged in\");\r\n        setReports([]);\r\n        setLoading(false);\r\n        setError(\"Please log in to view reports.\");\r\n      }\r\n    });\r\n\r\n    return () => unsubscribe();\r\n  }, []);\r\n\r\n  const handleDelete = async (id) => {\r\n    const auth = getAuth();\r\n    const user = auth.currentUser;\r\n    \r\n    if (!user) {\r\n      alert(\"You must be logged in to delete a report.\");\r\n      return;\r\n    }\r\n\r\n    if (!window.confirm(\"Delete this report?\")) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const idToken = await user.getIdToken(true);\r\n      \r\n      await axios.delete(`http://127.0.0.1:8000/api/reports/${id}/`, {\r\n        headers: {\r\n          Authorization: `Bearer ${idToken}`,\r\n          'Content-Type': 'application/json',\r\n        },\r\n      });\r\n\r\n      setReports((prev) => prev.filter((report) => report.id !== id));\r\n      console.log(\"âœ… Report deleted successfully\");\r\n    } catch (err) {\r\n      console.error(\"âŒ Deletion failed:\", err);\r\n      \r\n      if (err.response?.status === 401) {\r\n        alert(\"Authentication failed. Please log in again.\");\r\n      } else {\r\n        alert(\"Failed to delete report. Please try again.\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleViewSummary = (report) => {\r\n    setSelectedSummary({\r\n      summary: report.ai_summary,\r\n      reportType: report.report_type,\r\n      reportDate: report.report_date,\r\n    });\r\n    setSummaryModalOpen(true);\r\n  };\r\n\r\n  // ðŸ”§ FIXED: Handle viewing report image\r\n  const handleViewReport = (report) => {\r\n    console.log(\"ðŸ–¼ï¸ Opening report modal for:\", report);\r\n    console.log(\"ðŸ“ Report file field:\", report.file);\r\n    console.log(\"ðŸ”— Report file_url field:\", report.file_url);\r\n    \r\n    setSelectedReport(report); // Store the full report object\r\n    setReportModalOpen(true);\r\n  };\r\n\r\n  const handleRetry = () => {\r\n    const auth = getAuth();\r\n    const user = auth.currentUser;\r\n    if (user) {\r\n      fetchReports(user);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"report-table-container\">\r\n        <h2>Reports History</h2>\r\n        <div style={{ textAlign: \"center\", padding: \"20px\" }}>\r\n          Loading reports...\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"report-table-container\">\r\n        <h2>Reports History</h2>\r\n        <div style={{ textAlign: \"center\", padding: \"20px\", color: \"red\" }}>\r\n          {error}\r\n          <br />\r\n          <button \r\n            onClick={handleRetry} \r\n            style={{ \r\n              marginTop: \"10px\", \r\n              padding: \"8px 16px\", \r\n              backgroundColor: \"#007bff\", \r\n              color: \"white\", \r\n              border: \"none\", \r\n              borderRadius: \"4px\", \r\n              cursor: \"pointer\" \r\n            }}\r\n          >\r\n            Retry\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"report-table-container\">\r\n      <h2>Reports History</h2>\r\n      <table className=\"report-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>Report Date</th>\r\n            <th>Report Type</th>\r\n            <th>AI Summary</th>\r\n            <th>Report Image</th>\r\n            <th>Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {reports.length > 0 ? (\r\n            reports.map((report) => (\r\n              <tr key={report.id}>\r\n                <td>{report.report_date || \"N/A\"}</td>\r\n                <td>{report.report_type}</td>\r\n                <td>\r\n                  <button\r\n                    className=\"view-btn\"\r\n                    onClick={() => handleViewSummary(report)}\r\n                  >\r\n                    View\r\n                  </button>\r\n                </td>\r\n                <td>\r\n                  {/* ðŸ”§ FIXED: Use correct function and check for valid file URL */}\r\n                  <button\r\n                    onClick={() => handleViewReport(report)}\r\n                    style={{\r\n                      backgroundColor: \"transparent\",\r\n                      color: \"#007bff\",\r\n                      padding: \"6px 12px\",\r\n                      border: \"none\",\r\n                      borderRadius: \"4px\",\r\n                      cursor: \"pointer\",\r\n                    }}\r\n                    title=\"View Report Image\"\r\n                    disabled={!report.file_url && !report.file} // Disable if no file\r\n                  >\r\n                    <FaFileAlt />\r\n                  </button>\r\n                  \r\n                  {/* ðŸ”§ ADDED: Debug info for each row in development */}\r\n                  \r\n                </td>\r\n                <td>\r\n                  <button\r\n                    className=\"delete-btn\"\r\n                    onClick={() => handleDelete(report.id)}\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))\r\n          ) : (\r\n            <tr>\r\n              <td colSpan=\"5\" style={{ textAlign: \"center\" }}>\r\n                No reports yet\r\n              </td>\r\n            </tr>\r\n          )}\r\n        </tbody>\r\n      </table>\r\n\r\n      {/* ðŸ”§ FIXED: Pass both reportData and imageUrl props */}\r\n      <ReportModal\r\n        isOpen={reportModalOpen}\r\n        onClose={() => {\r\n          setReportModalOpen(false);\r\n          setSelectedReport(null); // Clear selected report when closing\r\n        }}\r\n        reportData={selectedReport}  // âœ… Pass the full report object\r\n        imageUrl={selectedReport?.file_url || selectedReport?.file} // âœ… Use correct field names\r\n      />\r\n\r\n      <SummaryModal\r\n        isOpen={summaryModalOpen}\r\n        onClose={() => setSummaryModalOpen(false)}\r\n        summary={selectedSummary?.summary}\r\n        reportType={selectedSummary?.reportType}\r\n        reportDate={selectedSummary?.reportDate}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReportTable;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}