{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import axios from\"axios\";import\"./Table.css\";import{FaFileAlt}from\"react-icons/fa\";import ReportModal from\"../ReportModal/ReportModal\";import SummaryModal from\"../SummaryModal/SummaryModal\";import{getAuth}from\"firebase/auth\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ReportTable=()=>{const[reports,setReports]=useState([]);const[reportModalOpen,setReportModalOpen]=useState(false);const[summaryModalOpen,setSummaryModalOpen]=useState(false);const[modalImage,setModalImage]=useState(null);const[selectedSummary,setSelectedSummary]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const fetchReports=async user=>{try{setLoading(true);setError(null);console.log(\"🔍 User object:\",user);console.log(\"🔍 User email:\",user.email);console.log(\"🔍 User UID:\",user.uid);// Get a fresh token\nconst idToken=await user.getIdToken(true);console.log(\"🎫 Token generated (first 50 chars):\",idToken.substring(0,50)+\"...\");console.log(\"🎫 Token length:\",idToken.length);// Verify token format\nconst tokenParts=idToken.split('.');console.log(\"🎫 Token parts count:\",tokenParts.length);const headers={Authorization:`Bearer ${idToken}`,'Content-Type':'application/json'};console.log(\"📡 Request headers:\",headers);console.log(\"📡 Making request to: http://localhost:8000/api/reports/\");const response=await axios.get(\"http://localhost:8000/api/reports/\",{headers:headers});setReports(response.data);console.log(\"✅ Reports fetched successfully:\",response.data);}catch(err){var _err$response,_err$response2,_err$response3;console.error(\"❌ Full error object:\",err);console.error(\"❌ Error response:\",err.response);console.error(\"❌ Error status:\",(_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.status);console.error(\"❌ Error data:\",(_err$response2=err.response)===null||_err$response2===void 0?void 0:_err$response2.data);if(((_err$response3=err.response)===null||_err$response3===void 0?void 0:_err$response3.status)===401){setError(\"Authentication failed. Please log in again.\");}else{setError(\"Failed to fetch reports. Please try again.\");}}finally{setLoading(false);}};useEffect(()=>{const auth=getAuth();const unsubscribe=auth.onAuthStateChanged(async user=>{if(user){// Wait a bit to ensure the user is fully authenticated\nsetTimeout(()=>{fetchReports(user);},500);}else{console.warn(\"⚠️ User is not logged in\");setReports([]);setLoading(false);setError(\"Please log in to view reports.\");}});return()=>unsubscribe();},[]);const handleDelete=async id=>{const auth=getAuth();const user=auth.currentUser;if(!user){alert(\"You must be logged in to delete a report.\");return;}if(!window.confirm(\"Delete this report?\")){return;}try{const idToken=await user.getIdToken(true);await axios.delete(`http://localhost:8000/api/reports/${id}/`,{headers:{Authorization:`Bearer ${idToken}`,'Content-Type':'application/json'}});setReports(prev=>prev.filter(report=>report.id!==id));console.log(\"✅ Report deleted successfully\");}catch(err){var _err$response4;console.error(\"❌ Deletion failed:\",err);if(((_err$response4=err.response)===null||_err$response4===void 0?void 0:_err$response4.status)===401){alert(\"Authentication failed. Please log in again.\");}else{alert(\"Failed to delete report. Please try again.\");}}};const handleViewSummary=report=>{setSelectedSummary({summary:report.ai_summary,reportType:report.report_type,reportDate:report.report_date});setSummaryModalOpen(true);};const handleRetry=()=>{const auth=getAuth();const user=auth.currentUser;if(user){fetchReports(user);}};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"report-table-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Reports History\"}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"center\",padding:\"20px\"},children:\"Loading reports...\"})]});}if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"report-table-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Reports History\"}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\",padding:\"20px\",color:\"red\"},children:[error,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:handleRetry,style:{marginTop:\"10px\",padding:\"8px 16px\",backgroundColor:\"#007bff\",color:\"white\",border:\"none\",borderRadius:\"4px\",cursor:\"pointer\"},children:\"Retry\"})]})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"report-table-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Reports History\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"report-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Report Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Report Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"AI Summary\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Report Image\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:reports.length>0?reports.map(report=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:report.report_date||\"N/A\"}),/*#__PURE__*/_jsx(\"td\",{children:report.report_type}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"view-btn\",onClick:()=>handleViewSummary(report),children:\"View\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setModalImage(`http://localhost:8000${report.original_file}`);setReportModalOpen(true);},style:{backgroundColor:\"transparent\",color:\"#007bff\",padding:\"6px 12px\",border:\"none\",borderRadius:\"4px\",cursor:\"pointer\"},title:\"View Report Image\",children:/*#__PURE__*/_jsx(FaFileAlt,{})})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"delete-btn\",onClick:()=>handleDelete(report.id),children:\"Delete\"})})]},report.id)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"5\",style:{textAlign:\"center\"},children:\"No reports yet\"})})})]}),/*#__PURE__*/_jsx(ReportModal,{isOpen:reportModalOpen,onClose:()=>setReportModalOpen(false),imageUrl:modalImage}),/*#__PURE__*/_jsx(SummaryModal,{isOpen:summaryModalOpen,onClose:()=>setSummaryModalOpen(false),summary:selectedSummary===null||selectedSummary===void 0?void 0:selectedSummary.summary,reportType:selectedSummary===null||selectedSummary===void 0?void 0:selectedSummary.reportType,reportDate:selectedSummary===null||selectedSummary===void 0?void 0:selectedSummary.reportDate})]});};export default ReportTable;","map":{"version":3,"names":["React","useEffect","useState","axios","FaFileAlt","ReportModal","SummaryModal","getAuth","jsx","_jsx","jsxs","_jsxs","ReportTable","reports","setReports","reportModalOpen","setReportModalOpen","summaryModalOpen","setSummaryModalOpen","modalImage","setModalImage","selectedSummary","setSelectedSummary","loading","setLoading","error","setError","fetchReports","user","console","log","email","uid","idToken","getIdToken","substring","length","tokenParts","split","headers","Authorization","response","get","data","err","_err$response","_err$response2","_err$response3","status","auth","unsubscribe","onAuthStateChanged","setTimeout","warn","handleDelete","id","currentUser","alert","window","confirm","delete","prev","filter","report","_err$response4","handleViewSummary","summary","ai_summary","reportType","report_type","reportDate","report_date","handleRetry","className","children","style","textAlign","padding","color","onClick","marginTop","backgroundColor","border","borderRadius","cursor","map","original_file","title","colSpan","isOpen","onClose","imageUrl"],"sources":["C:/Users/Piyush/health-app/frontend/src/components/Table/Table.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./Table.css\";\r\nimport { FaFileAlt } from \"react-icons/fa\";\r\nimport ReportModal from \"../ReportModal/ReportModal\";\r\nimport SummaryModal from \"../SummaryModal/SummaryModal\";\r\nimport { getAuth } from \"firebase/auth\";\r\n\r\nconst ReportTable = () => {\r\n  const [reports, setReports] = useState([]);\r\n  const [reportModalOpen, setReportModalOpen] = useState(false);\r\n  const [summaryModalOpen, setSummaryModalOpen] = useState(false);\r\n  const [modalImage, setModalImage] = useState(null);\r\n  const [selectedSummary, setSelectedSummary] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  const fetchReports = async (user) => {\r\n  try {\r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    console.log(\"🔍 User object:\", user);\r\n    console.log(\"🔍 User email:\", user.email);\r\n    console.log(\"🔍 User UID:\", user.uid);\r\n    \r\n    // Get a fresh token\r\n    const idToken = await user.getIdToken(true);\r\n    console.log(\"🎫 Token generated (first 50 chars):\", idToken.substring(0, 50) + \"...\");\r\n    console.log(\"🎫 Token length:\", idToken.length);\r\n    \r\n    // Verify token format\r\n    const tokenParts = idToken.split('.');\r\n    console.log(\"🎫 Token parts count:\", tokenParts.length);\r\n    \r\n    const headers = {\r\n      Authorization: `Bearer ${idToken}`,\r\n      'Content-Type': 'application/json',\r\n    };\r\n    \r\n    console.log(\"📡 Request headers:\", headers);\r\n    console.log(\"📡 Making request to: http://localhost:8000/api/reports/\");\r\n\r\n    const response = await axios.get(\"http://localhost:8000/api/reports/\", {\r\n      headers: headers,\r\n    });\r\n\r\n    setReports(response.data);\r\n    console.log(\"✅ Reports fetched successfully:\", response.data);\r\n  } catch (err) {\r\n    console.error(\"❌ Full error object:\", err);\r\n    console.error(\"❌ Error response:\", err.response);\r\n    console.error(\"❌ Error status:\", err.response?.status);\r\n    console.error(\"❌ Error data:\", err.response?.data);\r\n    \r\n    if (err.response?.status === 401) {\r\n      setError(\"Authentication failed. Please log in again.\");\r\n    } else {\r\n      setError(\"Failed to fetch reports. Please try again.\");\r\n    }\r\n  } finally {\r\n    setLoading(false);\r\n  }\r\n};\r\n\r\n  useEffect(() => {\r\n    const auth = getAuth();\r\n    \r\n    const unsubscribe = auth.onAuthStateChanged(async (user) => {\r\n      if (user) {\r\n        // Wait a bit to ensure the user is fully authenticated\r\n        setTimeout(() => {\r\n          fetchReports(user);\r\n        }, 500);\r\n      } else {\r\n        console.warn(\"⚠️ User is not logged in\");\r\n        setReports([]);\r\n        setLoading(false);\r\n        setError(\"Please log in to view reports.\");\r\n      }\r\n    });\r\n\r\n    return () => unsubscribe();\r\n  }, []);\r\n\r\n  const handleDelete = async (id) => {\r\n    const auth = getAuth();\r\n    const user = auth.currentUser;\r\n    \r\n    if (!user) {\r\n      alert(\"You must be logged in to delete a report.\");\r\n      return;\r\n    }\r\n\r\n    if (!window.confirm(\"Delete this report?\")) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const idToken = await user.getIdToken(true);\r\n      \r\n      await axios.delete(`http://localhost:8000/api/reports/${id}/`, {\r\n        headers: {\r\n          Authorization: `Bearer ${idToken}`,\r\n          'Content-Type': 'application/json',\r\n        },\r\n      });\r\n\r\n      setReports((prev) => prev.filter((report) => report.id !== id));\r\n      console.log(\"✅ Report deleted successfully\");\r\n    } catch (err) {\r\n      console.error(\"❌ Deletion failed:\", err);\r\n      \r\n      if (err.response?.status === 401) {\r\n        alert(\"Authentication failed. Please log in again.\");\r\n      } else {\r\n        alert(\"Failed to delete report. Please try again.\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleViewSummary = (report) => {\r\n    setSelectedSummary({\r\n      summary: report.ai_summary,\r\n      reportType: report.report_type,\r\n      reportDate: report.report_date,\r\n    });\r\n    setSummaryModalOpen(true);\r\n  };\r\n\r\n  const handleRetry = () => {\r\n    const auth = getAuth();\r\n    const user = auth.currentUser;\r\n    if (user) {\r\n      fetchReports(user);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"report-table-container\">\r\n        <h2>Reports History</h2>\r\n        <div style={{ textAlign: \"center\", padding: \"20px\" }}>\r\n          Loading reports...\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"report-table-container\">\r\n        <h2>Reports History</h2>\r\n        <div style={{ textAlign: \"center\", padding: \"20px\", color: \"red\" }}>\r\n          {error}\r\n          <br />\r\n          <button \r\n            onClick={handleRetry} \r\n            style={{ \r\n              marginTop: \"10px\", \r\n              padding: \"8px 16px\", \r\n              backgroundColor: \"#007bff\", \r\n              color: \"white\", \r\n              border: \"none\", \r\n              borderRadius: \"4px\", \r\n              cursor: \"pointer\" \r\n            }}\r\n          >\r\n            Retry\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"report-table-container\">\r\n      <h2>Reports History</h2>\r\n      <table className=\"report-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>Report Date</th>\r\n            <th>Report Type</th>\r\n            <th>AI Summary</th>\r\n            <th>Report Image</th>\r\n            <th>Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {reports.length > 0 ? (\r\n            reports.map((report) => (\r\n              <tr key={report.id}>\r\n                <td>{report.report_date || \"N/A\"}</td>\r\n                <td>{report.report_type}</td>\r\n                <td>\r\n                  <button\r\n                    className=\"view-btn\"\r\n                    onClick={() => handleViewSummary(report)}\r\n                  >\r\n                    View\r\n                  </button>\r\n                </td>\r\n                <td>\r\n                  <button\r\n                    onClick={() => {\r\n                      setModalImage(`http://localhost:8000${report.original_file}`);\r\n                      setReportModalOpen(true);\r\n                    }}\r\n                    style={{\r\n                      backgroundColor: \"transparent\",\r\n                      color: \"#007bff\",\r\n                      padding: \"6px 12px\",\r\n                      border: \"none\",\r\n                      borderRadius: \"4px\",\r\n                      cursor: \"pointer\",\r\n                    }}\r\n                    title=\"View Report Image\"\r\n                  >\r\n                    <FaFileAlt />\r\n                  </button>\r\n                </td>\r\n                <td>\r\n                  <button\r\n                    className=\"delete-btn\"\r\n                    onClick={() => handleDelete(report.id)}\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))\r\n          ) : (\r\n            <tr>\r\n              <td colSpan=\"5\" style={{ textAlign: \"center\" }}>\r\n                No reports yet\r\n              </td>\r\n            </tr>\r\n          )}\r\n        </tbody>\r\n      </table>\r\n\r\n      <ReportModal\r\n        isOpen={reportModalOpen}\r\n        onClose={() => setReportModalOpen(false)}\r\n        imageUrl={modalImage}\r\n      />\r\n\r\n      <SummaryModal\r\n        isOpen={summaryModalOpen}\r\n        onClose={() => setSummaryModalOpen(false)}\r\n        summary={selectedSummary?.summary}\r\n        reportType={selectedSummary?.reportType}\r\n        reportDate={selectedSummary?.reportDate}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReportTable;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}